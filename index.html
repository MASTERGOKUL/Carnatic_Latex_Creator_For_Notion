<!DOCTYPE html>
<html lang="ta">

<head>
    <meta charset="UTF-8" />
    <title>Carnatic Swara Builder</title>

    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">
    <script>
        window.MathJax = { tex: { inlineMath: [['\\(', '\\)']] }, svg: { fontCache: 'global' } };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>

<body>

    <h2>ğŸ¼ Carnatic Swara Builder</h2>

    <div class="card controls">
        Notes / Group:
        <select id="notesPerGroup" onchange="resetAll()">
            <option>3</option>
            <option selected>4</option>
            <option>5</option>
            <option>8</option>
        </select>

        Max Groups:
        <select id="maxGroups" onchange="resetAll()">
            <option>4</option>
            <option selected>8</option>
            <option>16</option>
        </select>

        <button class="action-btn" onclick="openInfo()">â„¹ï¸ Info</button>
    </div>

    <div class="card">
        <h3>ğŸ“ LaTeX Preview</h3>
        <div id="latex-preview"></div>
    </div>

    <div class="card">
        <div class="swara-row">
            <button class="swara-btn" onclick="add('à®š')">à®š</button>
            <button class="swara-btn" onclick="add('à®°à®¿')">à®°à®¿</button>
            <button class="swara-btn" onclick="add('à®•')">à®•</button>
            <button class="swara-btn" onclick="add('à®®')">à®®</button>
            <button class="swara-btn" onclick="add('à®ª')">à®ª</button>
            <button class="swara-btn" onclick="add('à®¤')">à®¤</button>
            <button class="swara-btn" onclick="add('à®¨à®¿')">à®¨à®¿</button>
        </div>

        <div class="actions">
            <button class="action-btn upper" onclick="setOctave('u',this)">â¬† Upper</button>
            <button class="action-btn lower" onclick="setOctave('l',this)">â¬‡ Lower</button>
            <button class="action-btn" onclick="toggleSticky(this)">ğŸ“Œ Sticky</button>
            <button class="action-btn" onclick="undo()">â†© Undo</button>
            <button class="action-btn" onclick="redo()">â†ª Redo</button>
            <button class="action-btn primary" onclick="copy()">ğŸ“‹ Copy</button>
            <button class="action-btn" onclick="resetAll()">ğŸ§¹ Clear</button>
        </div>
    </div>

    <div class="card">
        <h3>ğŸ§¾ Raw LaTeX (for Notion)</h3>
        <div id="output">Nothing to show</div>
    </div>

    <!-- INFO MODAL -->
    <div class="modal" id="info">
        <div class="modal-content">
            <h3>â„¹ï¸ Help</h3>
            <ul>
                <li><b>Notes / Group</b> â€“ swaras per avartanam</li>
                <li><b>Max Groups</b> â€“ total avartanams</li>
                <li><b>Sticky</b> â€“ hold octave across notes</li>
                <li><b>Ctrl + â†‘ / â†“</b> â€“ upper / lower octave</li>
                <li><b>Ctrl + Z / Y</b> â€“ undo / redo</li>
                <li><b>Ctrl + C</b> â€“ copy LaTeX</li>
            </ul>
            <button class="action-btn" onclick="closeInfo()">Close</button>
        </div>
    </div>

</body>

</html>
